<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Datapackage tools &mdash; friendly_data 0.2.2.dev documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Package" href="external.html" />
    <link rel="prev" title="Advanced use" href="../advanced.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> friendly_data
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">How to install?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../data-package.html">Data package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../registry.html">Data registry</a><ul>
<li class="toctree-l2"><a class="reference internal" href="registry.html">Value columns - <code class="docutils literal notranslate"><span class="pre">cols</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="registry.html#index-columns-idxcols">Index columns - <code class="docutils literal notranslate"><span class="pre">idxcols</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="index-file.html">The Package Index file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../registry.html#contributing-to-the-registry">Contributing to the registry</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../registry.html#where-to-add-the-new-column">Where to add the new column?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../registry.html#defining-a-custom-registry">Defining a custom registry</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cli.html">The <code class="docutils literal notranslate"><span class="pre">friendly_data</span></code> tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config-file.html">The configuration file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hands-on.html">Hands-on tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hands-on.html#understanding-the-registry-used-by-friendly-data">Understanding the registry used by Friendly data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hands-on.html#column-schema">Column schema</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hands-on.html#learning-by-example">Learning by example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hands-on.html#introducing-the-index-file">Introducing the index file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../hands-on.html#metadata">Metadata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../hands-on.html#updating-existing-packages">Updating existing packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../iamc-conversion.html">Converting to IAMC format</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../advanced.html">Advanced use</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../advanced.html#api-documentation">API documentation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Datapackage tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-friendly_data.metatools">Metadata tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-friendly_data.registry">Registry API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-friendly_data.cli">Command Line Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-friendly_data.validate">Validation functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-analysis-interface">Data analysis interface</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-friendly_data.converters">Converters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-friendly_data.tseries">Time series API</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-friendly_data.iamc">Conversion to IAMC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#internal-interfaces">Internal interfaces</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-friendly_data.io">File I/O</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-friendly_data.helpers">Helper utilities</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../advanced.html#external-packages">External Packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="external.html">Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="external.html#id2">Resource</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../advanced.html#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devnotes.html">Notes for developers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../devnotes.html#adding-dependencies">Adding dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devnotes.html#working-with-the-data-package-api">Working with the data package API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devnotes.html#working-with-the-index-file">Working with the index file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devnotes.html#working-with-the-registry-api">Working with the registry API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devnotes.html#converters-interfacing-with-the-python-ecosystem">Converters: interfacing with the Python ecosystem</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">friendly_data</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../advanced.html">Advanced use</a> &raquo;</li>
      <li>Datapackage tools</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>Technical documentation of functions and classes provided by the
different <code class="docutils literal notranslate"><span class="pre">friendly_data</span></code> modules.</p>
<section id="module-friendly_data.dpkg">
<span id="datapackage-tools"></span><h1>Datapackage tools<a class="headerlink" href="#module-friendly_data.dpkg" title="Permalink to this heading"></a></h1>
<p>Functions useful to interact with a data package.</p>
<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.create_pkg">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">create_pkg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">_res_t</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#create_pkg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.create_pkg" title="Permalink to this definition"></a></dt>
<dd><p>Create a datapackage from metadata and resources.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">resources</span></code> point to files that exist, their schema are inferred and
added to the package.  If <code class="docutils literal notranslate"><span class="pre">basepath</span></code> is a non empty string, it is treated
as the parent directory, and all resource file paths are checked relative
to it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>meta</strong><span class="classifier">Dict</span></dt><dd><p>A dictionary with package metadata.</p>
</dd>
<dt><strong>fpaths</strong><span class="classifier">Iterable[Union[str, Path, Dict]]</span></dt><dd><p>An iterator over different resources.  Resources are paths to files,
relative to <code class="docutils literal notranslate"><span class="pre">basepath</span></code>.</p>
</dd>
<dt><strong>basepath</strong><span class="classifier">str (default: empty string)</span></dt><dd><p>Directory where the package files are located</p>
</dd>
<dt><strong>infer</strong><span class="classifier">bool (default: True)</span></dt><dd><p>Whether to infer resource schema</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Package</dt><dd><p>A datapackage with inferred schema for all the package resources</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.entry_from_res">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">entry_from_res</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Resource</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#entry_from_res"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.entry_from_res" title="Permalink to this definition"></a></dt>
<dd><p>Create an index entry from a <code class="docutils literal notranslate"><span class="pre">Resource</span></code> object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>res</strong><span class="classifier">Resource</span></dt><dd><p>A resource object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Dict</dt><dd><p>A dictionary that is an index entry</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.fullpath">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">fullpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Resource</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#fullpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.fullpath" title="Permalink to this definition"></a></dt>
<dd><p>Get full path of a resource</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>resource</strong><span class="classifier">Resource</span></dt><dd><p>Resource object/dictionary</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Path</dt><dd><p>Full path to the resource</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.get_aliased_cols">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">get_aliased_cols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#get_aliased_cols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.get_aliased_cols" title="Permalink to this definition"></a></dt>
<dd><p>Get aliased columns from the registry</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>cols</strong><span class="classifier">Iterable[str]</span></dt><dd><p>List of columns to retrieve</p>
</dd>
<dt><strong>col_t</strong><span class="classifier">Literal[“cols”, “idxcols”]</span></dt><dd><p>A literal string specifying the kind of column; one of: “cols”, or “idxcols”</p>
</dd>
<dt><strong>alias</strong><span class="classifier">Dict[str, str]</span></dt><dd><p>Dictionary of aliases; key is the column name in the dataset, and the
value is the column name in the registry that it is equivalent to.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Dict</dt><dd><p>Schema for each column, the column name is the key, and the schema is
the value; see the doctring of <a class="reference internal" href="#friendly_data.dpkg.index_levels" title="friendly_data.dpkg.index_levels"><code class="xref py py-func docutils literal notranslate"><span class="pre">index_levels()</span></code></a> for more.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.idxpath_from_pkgpath">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">idxpath_from_pkgpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkgpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#idxpath_from_pkgpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.idxpath_from_pkgpath" title="Permalink to this definition"></a></dt>
<dd><p>Return a valid index path given a package path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkgpath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to package directory</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Union[str, Path]</dt><dd><ul class="simple">
<li><p>Returns a valid index path; if there are multiple matches, returns
the lexicographically first match</p></li>
<li><p>If an index file is not found, returns an empty string</p></li>
</ul>
</dd>
</dl>
</dd>
<dt class="field-odd">Warns</dt>
<dd class="field-odd"><ul class="simple">
<li><dl class="simple">
<dt>Warns if no index file is found</dt><dd></dd>
</dl>
</li>
<li><dl class="simple">
<dt>Warns if multiple index files are found</dt><dd></dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.index_levels">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">index_levels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_or_df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">_dfseries_t</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxcols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">_dfseries_t</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#index_levels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.index_levels" title="Permalink to this definition"></a></dt>
<dd><p>Read a dataset and determine the index levels</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>file_or_df</strong><span class="classifier">Union[str, Path, pd.DataFrame, pd.Series]</span></dt><dd><p>A dataframe, or the path to a CSV file</p>
</dd>
<dt><strong>idxcols</strong><span class="classifier">Iterable[str]</span></dt><dd><p>List of columns in the dataset that constitute the index</p>
</dd>
<dt><strong>alias</strong><span class="classifier">Dict[str, str]</span></dt><dd><p>Column aliases: {my_alias: col_in_registry}</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt>Tuple[Union[pd.DataFrame, pd.Series], Dict]</dt><dd><p>Tuple of the dataset, and the schema of each index column as a
dictionary.  If <code class="docutils literal notranslate"><span class="pre">idxcols</span></code> was [“foo”, “bar”], the dictionary might look
like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;datetime&quot;</span><span class="p">,</span>
        <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;bar&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="s2">&quot;constraints&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">]</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the index columns that have categorical values, are filled in
by reading the dataset and determining the full set of values.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.pkg_from_files">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">pkg_from_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Package</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#friendly_data.dpkg.pkgindex" title="friendly_data.dpkg.pkgindex"><span class="pre">pkgindex</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#pkg_from_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.pkg_from_files" title="Permalink to this definition"></a></dt>
<dd><p>Create a package from an index file and other files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>meta</strong><span class="classifier">Dict</span></dt><dd><p>A dictionary with package metadata.</p>
</dd>
<dt><strong>fpath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to the package directory or index file.  Note the index file has
to be at the top level directory of the datapackage.  See
<a class="reference internal" href="#friendly_data.dpkg.pkgindex.from_file" title="friendly_data.dpkg.pkgindex.from_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pkgindex.from_file()</span></code></a></p>
</dd>
<dt><strong>fpaths</strong><span class="classifier">List[Union[str, Path]]</span></dt><dd><p>A list of paths to datasets/resources not in the index.  If any of the
paths point to a dataset already present in the index, the index entry
is respected.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Tuple[Path, Package, Union[pkgindex, None]]</dt><dd><p>A datapackage with inferred schema for the resources/datasets present
in the index; all other resources are added with a basic inferred
schema.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.pkg_from_index">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">pkg_from_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Package</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#friendly_data.dpkg.pkgindex" title="friendly_data.dpkg.pkgindex"><span class="pre">pkgindex</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#pkg_from_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.pkg_from_index" title="Permalink to this definition"></a></dt>
<dd><p>Read an index file, and create a datapackage with the provided metadata.</p>
<p>The index can be in either YAML, or JSON format.  It is a list of dataset
files, names, and a list of columns in the dataset that are to be treated
as index columns (see example below)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>meta</strong><span class="classifier">Dict</span></dt><dd><p>Package metadata dictionary</p>
</dd>
<dt><strong>fpath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to the index file.  Note the index file has to be at the top level
directory of the datapackage.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Tuple[Path, Package, pkgindex]</dt><dd><p>The package directory, the <code class="docutils literal notranslate"><span class="pre">Package</span></code> object, and the index.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>YAML (JSON is also supported):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file1</span><span class="w"></span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dst1</span><span class="w"></span>
<span class="w">  </span><span class="nt">idxcols</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">cola</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">colb</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file2</span><span class="w"></span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dst2</span><span class="w"></span>
<span class="w">  </span><span class="nt">idxcols</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">colx</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">coly</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">colz</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">file3</span><span class="w"></span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dst3</span><span class="w"></span>
<span class="w">  </span><span class="nt">idxcols</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">col</span><span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="friendly_data.dpkg.pkgindex">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">pkgindex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#pkgindex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.pkgindex" title="Permalink to this definition"></a></dt>
<dd><p>Data package index (a subclass of <code class="docutils literal notranslate"><span class="pre">list</span></code>)</p>
<p>It is a list of dictionaries, where each dictionary is the respective
record for a file.  A record may have the following keys:</p>
<ul class="simple">
<li><p>“path”: path to the file,</p></li>
<li><p>“idxcols”: list of column names that are to be included in the dataset
index (optional),</p></li>
<li><p>“name”: dataset name (optional),</p></li>
<li><p>“skip”: lines to skip when reading the dataset (optional, CSV only),</p></li>
<li><p>“alias”: a mapping of column name aliases (optional),</p></li>
<li><p>“sheet”: sheet name or position (0-indexed) to use as dataset (optional,
Excel only)</p></li>
</ul>
<p>While iterating over an index, always use <a class="reference internal" href="#friendly_data.dpkg.pkgindex.records" title="friendly_data.dpkg.pkgindex.records"><code class="xref py py-meth docutils literal notranslate"><span class="pre">records()</span></code></a> to
ensure all necessary keys are present.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">append</span></code>(object, /)</p></td>
<td><p>Append object to the end of the list.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>(/)</p></td>
<td><p>Remove all items from list.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code>(/)</p></td>
<td><p>Return a shallow copy of the list.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">count</span></code>(value, /)</p></td>
<td><p>Return number of occurrences of value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">extend</span></code>(iterable, /)</p></td>
<td><p>Extend list by appending elements from the iterable.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#friendly_data.dpkg.pkgindex.from_file" title="friendly_data.dpkg.pkgindex.from_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_file</span></code></a>(fpath)</p></td>
<td><p>Read the index of files included in the data package</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.dpkg.pkgindex.get" title="friendly_data.dpkg.pkgindex.get"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code></a>(key)</p></td>
<td><p>Get the value of <code class="docutils literal notranslate"><span class="pre">key</span></code> from all records as a list.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">index</span></code>(value[, start, stop])</p></td>
<td><p>Return first index of value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">insert</span></code>(index, object, /)</p></td>
<td><p>Insert object before index.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>([index])</p></td>
<td><p>Remove and return item at index (default last).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.dpkg.pkgindex.records" title="friendly_data.dpkg.pkgindex.records"><code class="xref py py-obj docutils literal notranslate"><span class="pre">records</span></code></a>(keys)</p></td>
<td><p>Return an iterable of index records.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove</span></code>(value, /)</p></td>
<td><p>Remove first occurrence of value.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">reverse</span></code>(/)</p></td>
<td><p>Reverse <em>IN PLACE</em>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sort</span></code>(*[, key, reverse])</p></td>
<td><p>Sort the list in ascending order and return None.</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.dpkg.pkgindex.from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#friendly_data.dpkg.pkgindex" title="friendly_data.dpkg.pkgindex"><span class="pre">pkgindex</span></a></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#pkgindex.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.pkgindex.from_file" title="Permalink to this definition"></a></dt>
<dd><p>Read the index of files included in the data package</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Index file path or a stream object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List[Dict]</dt><dd></dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If the file type is correct (YAML/JSON), but does not return a list</p>
</dd>
<dt>RuntimeError</dt><dd><p>If the file has an unknown extension (raised by <a class="reference internal" href="#friendly_data.io.dwim_file" title="friendly_data.io.dwim_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">friendly_data.io.dwim_file()</span></code></a>)</p>
</dd>
<dt>MatchError</dt><dd><p>If the file contains any unknown keys</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.dpkg.pkgindex.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#pkgindex.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.pkgindex.get" title="Permalink to this definition"></a></dt>
<dd><p>Get the value of <code class="docutils literal notranslate"><span class="pre">key</span></code> from all records as a list.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">key</span></code> is absent, the corresponding value is set to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd><p>Key to retrieve</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List</dt><dd><p>List of records with values corresponding to <code class="docutils literal notranslate"><span class="pre">key</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.dpkg.pkgindex.records">
<span class="sig-name descname"><span class="pre">records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#pkgindex.records"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.pkgindex.records" title="Permalink to this definition"></a></dt>
<dd><p>Return an iterable of index records.</p>
<p>Each record is guaranteed to have all the requested keys.  If a value
wasn’t specified in the index file, it is set to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>keys</strong><span class="classifier">List[str]</span></dt><dd><p>List of keys that are requested in each record.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Iterable[Dict]</dt><dd></dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>glom.MatchError</dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">keys</span></code> has an unsupported value</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.read_pkg">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">read_pkg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extract_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#read_pkg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.read_pkg" title="Permalink to this definition"></a></dt>
<dd><p>Read a  datapackage</p>
<p>If <code class="docutils literal notranslate"><span class="pre">pkg_path</span></code> points to a <code class="docutils literal notranslate"><span class="pre">datapackage.json</span></code> file, read it as is.  If it
points to a zip archive.  The archive is first extracted before opening it.
If <code class="docutils literal notranslate"><span class="pre">extract_dir</span></code> is not provided, the current directory of the zip archive
is used.  If it is a directory, look for a <code class="docutils literal notranslate"><span class="pre">datapackage.json</span></code> inside.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkg_path</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to the <code class="docutils literal notranslate"><span class="pre">datapackage.json</span></code> file, or a zip archive</p>
</dd>
<dt><strong>extract_dir</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to which the zip archive is extracted</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Package</dt><dd></dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>When an unsupported format (not a directory, JSON, or ZIP) is provided</p>
</dd>
<dt>FileNotFoundError</dt><dd><p>When a datapackage.json file cannot be found</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.res_from_entry">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">res_from_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkg_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Resource</span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#res_from_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.res_from_entry" title="Permalink to this definition"></a></dt>
<dd><p>Create a resource from an index entry.</p>
<p>Entry must have the keys: <code class="docutils literal notranslate"><span class="pre">path</span></code>, <code class="docutils literal notranslate"><span class="pre">idxcols</span></code>, <code class="docutils literal notranslate"><span class="pre">alias</span></code>; so use
<a class="reference internal" href="#friendly_data.dpkg.pkgindex.records" title="friendly_data.dpkg.pkgindex.records"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pkgindex.records()</span></code></a> to iterate over the index.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>entry</strong><span class="classifier">Dict</span></dt><dd><p>Entry from an index file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;data.csv&quot;</span>
  <span class="s2">&quot;idxcols&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;col1&quot;</span><span class="p">,</span> <span class="s2">&quot;col2&quot;</span><span class="p">]</span>
  <span class="s2">&quot;alias&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;col1&quot;</span><span class="p">:</span> <span class="s2">&quot;col0&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><strong>pkg_dir</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Root directory of the package</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Resource</dt><dd><p>The resource object (subclass of <code class="docutils literal notranslate"><span class="pre">dict</span></code>)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.resource_">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">resource_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">infer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Resource</span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#resource_"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.resource_" title="Permalink to this definition"></a></dt>
<dd><p>Create a Resource object based on the dictionary</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>spec</strong><span class="classifier">Dict</span></dt><dd><p>Dictionary with the structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;relpath/resource.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;skip&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">nrows</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">&quot;sheet&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>both “skip” &amp; “sheet” are optional; “sheet” can be used to select a
specific sheet as the dataset; sheet numbering starts at 1.</p>
</dd>
<dt><strong>basepath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Base path for resource object</p>
</dd>
<dt><strong>infer</strong><span class="classifier">bool (default: True)</span></dt><dd><p>Whether to infer resource schema</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Resource</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.set_idxcols">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">set_idxcols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Resource</span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#set_idxcols"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.set_idxcols" title="Permalink to this definition"></a></dt>
<dd><p>Create a resource object for a file, with index columns set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to a dataset (resource), e.g. a CSV file, relative to <cite>basepath</cite></p>
</dd>
<dt><strong>basepath</strong><span class="classifier">Union[str, Path], default: empty string (current directory)</span></dt><dd><p>Path to directory to consider as the data package basepath</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Resource</dt><dd><p>Resource object with the index columns set according to the registry</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.dpkg.write_pkg">
<span class="sig-prename descclassname"><span class="pre">friendly_data.dpkg.</span></span><span class="sig-name descname"><span class="pre">write_pkg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Package</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkgdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#friendly_data.dpkg.pkgindex" title="friendly_data.dpkg.pkgindex"><span class="pre">pkgindex</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/dpkg.html#write_pkg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.dpkg.write_pkg" title="Permalink to this definition"></a></dt>
<dd><p>Write a data package to path</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkg: Package</strong></dt><dd><p>Package object</p>
</dd>
<dt><strong>pkgdir: Union[str, Path]</strong></dt><dd><p>Path to write to</p>
</dd>
<dt><strong>idx</strong><span class="classifier">Union[pkgindex, List] (optional)</span></dt><dd><p>Package index written to <code class="docutils literal notranslate"><span class="pre">pkgdir/index.json</span></code></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List[Path]</dt><dd><p>List of files written to disk</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-friendly_data.metatools">
<span id="metadata-tools"></span><h1>Metadata tools<a class="headerlink" href="#module-friendly_data.metatools" title="Permalink to this heading"></a></h1>
<p>Functions useful to access and manipulate package metadata.</p>
<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.metatools.check_license">
<span class="sig-prename descclassname"><span class="pre">friendly_data.metatools.</span></span><span class="sig-name descname"><span class="pre">check_license</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/metatools.html#check_license"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.metatools.check_license" title="Permalink to this definition"></a></dt>
<dd><p>Return the license spec from the metadata</p>
<p>Issue a warning if the license is old.  TODO: add other recommendations</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>lic</strong><span class="classifier">Dict[str, str], alias _license_t</span></dt><dd><p>License metadata dictionary (as returned by the Open Definition
License Service)
Example: CC-BY-SA:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;domain_content&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;domain_data&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s2">&quot;domain_software&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s2">&quot;family&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;CC-BY-SA-4.0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;maintainer&quot;</span><span class="p">:</span> <span class="s2">&quot;Creative Commons&quot;</span><span class="p">,</span>
  <span class="s2">&quot;od_conformance&quot;</span><span class="p">:</span> <span class="s2">&quot;approved&quot;</span><span class="p">,</span>
  <span class="s2">&quot;osd_conformance&quot;</span><span class="p">:</span> <span class="s2">&quot;not reviewed&quot;</span><span class="p">,</span>
  <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;active&quot;</span><span class="p">,</span>
  <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Creative Commons Attribution Share-Alike 4.0&quot;</span><span class="p">,</span>
  <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://creativecommons.org/licenses/by-sa/4.0/&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.metatools.get_license">
<span class="sig-prename descclassname"><span class="pre">friendly_data.metatools.</span></span><span class="sig-name descname"><span class="pre">get_license</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/metatools.html#get_license"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.metatools.get_license" title="Permalink to this definition"></a></dt>
<dd><p>Return the license metadata</p>
<p>Retrieve the license metadata of the requested group from the Open
Definition License Service and cache it in a temporary file.  From the
retrieved list, find the requested license and return it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lic</strong><span class="classifier">str or None</span></dt><dd><p>Requested license; if None, interactively ask for the license name</p>
</dd>
<dt><strong>group</strong><span class="classifier">{‘all’, ‘osi’, ‘od’, ‘ckan’}</span></dt><dd><p>License group where to find the license</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Dict[str, str], alias _license_t</dt><dd><p>A dictionary with the license metadata</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If the license group is incorrect</p>
</dd>
<dt>KeyError</dt><dd><p>If the license cannot be found in the provided group</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.metatools.lic_domain">
<span class="sig-prename descclassname"><span class="pre">friendly_data.metatools.</span></span><span class="sig-name descname"><span class="pre">lic_domain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/friendly_data/metatools.html#lic_domain"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.metatools.lic_domain" title="Permalink to this definition"></a></dt>
<dd><p>Find the domain of a license</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.metatools.lic_metadata">
<span class="sig-prename descclassname"><span class="pre">friendly_data.metatools.</span></span><span class="sig-name descname"><span class="pre">lic_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">keys:</span> <span class="pre">~typing.Iterable[str],</span> <span class="pre">pred:</span> <span class="pre">~typing.Callable[[~typing.Dict],</span> <span class="pre">bool]</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/metatools.html#lic_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.metatools.lic_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of license metadata with the requested set of keys</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>keys</strong><span class="classifier">Iterable[str]</span></dt><dd><p>List of keys to include in the metadata</p>
</dd>
<dt><strong>pred</strong><span class="classifier">Callable[[Dict], bool]</span></dt><dd><p>A predicate to select a subset of licenses.  It should accept a
dictionary with license metadata, and return a boolean indicating
whether to accept or not.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List[Dict]</dt><dd><p>List of license metadata</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.metatools.list_licenses">
<span class="sig-prename descclassname"><span class="pre">friendly_data.metatools.</span></span><span class="sig-name descname"><span class="pre">list_licenses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/metatools.html#list_licenses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.metatools.list_licenses" title="Permalink to this definition"></a></dt>
<dd><p>Return list of valid licenses</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.metatools.resolve_licenses">
<span class="sig-prename descclassname"><span class="pre">friendly_data.metatools.</span></span><span class="sig-name descname"><span class="pre">resolve_licenses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../_modules/friendly_data/metatools.html#resolve_licenses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.metatools.resolve_licenses" title="Permalink to this definition"></a></dt>
<dd><p>Check and fix if licenses are specified correctly in the metadata</p>
</dd></dl>

</section>
<section id="module-friendly_data.registry">
<span id="registry-api"></span><h1>Registry API<a class="headerlink" href="#module-friendly_data.registry" title="Permalink to this heading"></a></h1>
<p>Configurable Friendly data schema registry</p>
<p>Module to wrap around the default <code class="docutils literal notranslate"><span class="pre">friendly_data_registry</span></code> to add
configurability.  A custom registry configuration can be specified by using the
<a class="reference internal" href="#friendly_data.registry.config_ctx" title="friendly_data.registry.config_ctx"><code class="xref py py-func docutils literal notranslate"><span class="pre">config_ctx()</span></code></a> context manager.  The <a class="reference internal" href="#friendly_data.registry.RegistrySchema" title="friendly_data.registry.RegistrySchema"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistrySchema</span></code></a> validates the
registry config before customising the default registry.</p>
<dl class="py class">
<dt class="sig sig-object py" id="friendly_data.registry.RegistrySchema">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">friendly_data.registry.</span></span><span class="sig-name descname"><span class="pre">RegistrySchema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">registry_config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/registry.html#RegistrySchema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.registry.RegistrySchema" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate with the “registry” section of the config file to validate</p>
<p>The registry section looks like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">registry</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">idxcols</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enduse</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">      </span><span class="nt">constraints</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">enum</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span><span class="w"></span>
<span class="w">  </span><span class="nt">cols</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cost</span><span class="w"></span>
<span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">number</span><span class="w"></span>
<span class="w">      </span><span class="nt">constraints</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">minimum</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>
</pre></div>
</div>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fromkeys</span></code>(iterable[, value])</p></td>
<td><p>Create a new dictionary with keys from iterable and values set to value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code>(key[, default])</p></td>
<td><p>Return the value for key if key is in the dictionary, else default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>(key[, default])</p></td>
<td><p>If key is not found, default is returned if given, otherwise KeyError is raised</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">popitem</span></code>(/)</p></td>
<td><p>Remove and return a (key, value) pair as a 2-tuple.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">setdefault</span></code>(key[, default])</p></td>
<td><p>Insert key with a value of default if key is not in the dictionary.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>([E, ]**F)</p></td>
<td><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k] If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v In either case, this is followed by: for k in F:  D[k] = F[k]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.registry.config_ctx">
<span class="sig-prename descclassname"><span class="pre">friendly_data.registry.</span></span><span class="sig-name descname"><span class="pre">config_ctx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conffile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxcols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/registry.html#config_ctx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.registry.config_ctx" title="Permalink to this definition"></a></dt>
<dd><p>Context manager to temporarily override the default registry</p>
<p>Note that the parameters are allowed only as a keyword argument, and
multiple parameters are not allowed at the same time.  They are checked in
the same order as shown here, and on finding one, following parameters are
ignored.</p>
<p>The registry config is also validated.  If validation fails, an error
message is logged, and the default registry remains unaltered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>confdict</strong><span class="classifier">Dict[str, List[Dict]]</span></dt><dd><p>Registry config in dictionary form</p>
</dd>
<dt><strong>conffile</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to a config file with a custom registry section</p>
</dd>
<dt><strong>idxcols</strong><span class="classifier">List[Dict]</span></dt><dd><p>List of custom index columns</p>
</dd>
<dt><strong>cols</strong><span class="classifier">List[Dict]</span></dt><dd><p>List of custom value columns</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Generator[Dict[str, List[Dict]]]</dt><dd><p>The custom registry config</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">friendly_data.registry</span> <span class="kn">import</span> <span class="n">config_ctx</span><span class="p">,</span> <span class="n">get</span><span class="p">,</span> <span class="n">getall</span>

<span class="k">with</span> <span class="n">config_ctx</span><span class="p">(</span><span class="n">conffile</span><span class="o">=</span><span class="s2">&quot;config.yaml&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">_</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;mycol&quot;</span><span class="p">,</span> <span class="s2">&quot;cols&quot;</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">getall</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.registry.get">
<span class="sig-prename descclassname"><span class="pre">friendly_data.registry.</span></span><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../_modules/friendly_data/registry.html#get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.registry.get" title="Permalink to this definition"></a></dt>
<dd><p>Wraps around the getters in <a class="reference internal" href="#friendly_data_registry.get" title="friendly_data_registry.get"><code class="xref py py-func docutils literal notranslate"><span class="pre">friendly_data_registry.get()</span></code></a>.</p>
<p>If a custom registry config has been specified, columns from the config are
also considered.  A custom registry config can be set using the
<a class="reference internal" href="#friendly_data.registry.config_ctx" title="friendly_data.registry.config_ctx"><code class="xref py py-func docutils literal notranslate"><span class="pre">config_ctx()</span></code></a> context manager.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.registry.getall">
<span class="sig-prename descclassname"><span class="pre">friendly_data.registry.</span></span><span class="sig-name descname"><span class="pre">getall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/registry.html#getall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.registry.getall" title="Permalink to this definition"></a></dt>
<dd><p>Wraps around the getters in <a class="reference internal" href="#friendly_data_registry.getall" title="friendly_data_registry.getall"><code class="xref py py-func docutils literal notranslate"><span class="pre">friendly_data_registry.getall()</span></code></a>.</p>
<p>If a custom registry config has been specified, columns from the config are
also considered.  A custom registry config can be set using the
<a class="reference internal" href="#friendly_data.registry.config_ctx" title="friendly_data.registry.config_ctx"><code class="xref py py-func docutils literal notranslate"><span class="pre">config_ctx()</span></code></a> context manager.</p>
</dd></dl>

<hr class="docutils" />
<span class="target" id="module-friendly_data_registry"></span><p>The Friendly data schema registry</p>
<p>This module provides getter methods to retrieve individual columns,
<a class="reference internal" href="#friendly_data_registry.get" title="friendly_data_registry.get"><code class="xref py py-func docutils literal notranslate"><span class="pre">get()</span></code></a>, or the whole registry, <a class="reference internal" href="#friendly_data_registry.getall" title="friendly_data_registry.getall"><code class="xref py py-func docutils literal notranslate"><span class="pre">getall()</span></code></a>.  The function utilities and
classes are used by the module internally.</p>
<dl class="py function">
<dt class="sig sig-object py" id="friendly_data_registry.get">
<span class="sig-prename descclassname"><span class="pre">friendly_data_registry.</span></span><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../_modules/friendly_data_registry.html#get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data_registry.get" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve the column schema from column schema registry: <cite>friendly_data_registry</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>col</strong><span class="classifier">str</span></dt><dd><p>Column name to look for</p>
</dd>
<dt><strong>col_t</strong><span class="classifier">Literal[“cols”, “idxcols”]</span></dt><dd><p>A literal string specifying the kind of column; one of: “cols”, or “idxcols”</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Dict</dt><dd><p>Column schema; an empty dictionary is returned in case there are no matches</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>RuntimeError</dt><dd><p>When more than one matches are found</p>
</dd>
<dt>ValueError</dt><dd><p>When the schema file in the registry is unsupported; not one of: JSON, or YAML</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data_registry.getall">
<span class="sig-prename descclassname"><span class="pre">friendly_data_registry.</span></span><span class="sig-name descname"><span class="pre">getall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data_registry.html#getall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data_registry.getall" title="Permalink to this definition"></a></dt>
<dd><p>Get all columns from registry, primarily to generate documentation</p>
<dl class="field-list">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl>
<dt>Dict[str, Dict]</dt><dd><p>The returned value is separated by column type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;idxcols&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="o">..</span><span class="p">}</span>  <span class="c1"># column schemas</span>
  <span class="p">],</span>
  <span class="s2">&quot;cols&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span><span class="o">..</span><span class="p">}</span>  <span class="c1"># column schemas</span>
  <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>RuntimeError</dt><dd><p>When more than one matches are found</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data_registry.read_file">
<span class="sig-prename descclassname"><span class="pre">friendly_data_registry.</span></span><span class="sig-name descname"><span class="pre">read_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data_registry.html#read_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data_registry.read_file" title="Permalink to this definition"></a></dt>
<dd><p>Read JSON or yaml file; file type is guessed from extension</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="friendly_data_registry.schschemaema">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">friendly_data_registry.</span></span><span class="sig-name descname"><span class="pre">schschemaema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data_registry.html#schschemaema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data_registry.schschemaema" title="Permalink to this definition"></a></dt>
<dd><p>Registry column schema.  Instantiate to validate.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>TypeMatchError</dt><dd><p>When the column schema has a type mismatch</p>
</dd>
<dt>MatchError</dt><dd><p>Other mismatches like, an incorrectly named key</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fromkeys</span></code>(iterable[, value])</p></td>
<td><p>Create a new dictionary with keys from iterable and values set to value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code>(key[, default])</p></td>
<td><p>Return the value for key if key is in the dictionary, else default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>(key[, default])</p></td>
<td><p>If key is not found, default is returned if given, otherwise KeyError is raised</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">popitem</span></code>(/)</p></td>
<td><p>Remove and return a (key, value) pair as a 2-tuple.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">setdefault</span></code>(key[, default])</p></td>
<td><p>Insert key with a value of default if key is not in the dictionary.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>([E, ]**F)</p></td>
<td><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k] If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v In either case, this is followed by: for k in F:  D[k] = F[k]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

</section>
<section id="module-friendly_data.cli">
<span id="command-line-interface"></span><h1>Command Line Interface<a class="headerlink" href="#module-friendly_data.cli" title="Permalink to this heading"></a></h1>
<p>Functions that are run from the CLI to create, or edit a data package.</p>
<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.create">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licenses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/cli.html#create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.create" title="Permalink to this definition"></a></dt>
<dd><p>Create a package from an index file and other files</p>
<p>Package metadata provided with command line flags override metadata from
the config file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idxpath</strong><span class="classifier">str</span></dt><dd><p>Path to the index file or package directory with the index file.  Note
the index file has to be at the top level directory of the datapackage.</p>
</dd>
<dt><strong>fpaths</strong><span class="classifier">Tuple[str]</span></dt><dd><p>List of datasets/resources not in the index.  If any of them point to a
dataset already present in the index, it is ignored.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>Package name (no spaces or special characters)</p>
</dd>
<dt><strong>title</strong><span class="classifier">str</span></dt><dd><p>Package title</p>
</dd>
<dt><strong>licenses</strong><span class="classifier">str</span></dt><dd><p>License</p>
</dd>
<dt><strong>description</strong><span class="classifier">str</span></dt><dd><p>Package description</p>
</dd>
<dt><strong>keywords</strong><span class="classifier">str</span></dt><dd><p>A space separated list of keywords: ‘renewable energy model’ -&gt;
[‘renewable’, ‘energy’, ‘model’]</p>
</dd>
<dt><strong>inplace</strong><span class="classifier">bool</span></dt><dd><p>Whether to create the data package by only adding metadata to the
current directory.  NOTE: one of inplace/export must be chosen</p>
</dd>
<dt><strong>export</strong><span class="classifier">str</span></dt><dd><p>Create the data package in the provided directory instead of the
current directory</p>
</dd>
<dt><strong>config</strong><span class="classifier">str</span></dt><dd><p>Config file in YAML format with metadata and custom registry.  The
metadata should be under a “metadata” section, and the custom registry
under a “registry” section.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.describe">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">describe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkgpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/cli.html#describe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.describe" title="Permalink to this definition"></a></dt>
<dd><p>Give a summary of the data package</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkgpath</strong><span class="classifier">str</span></dt><dd><p>Path to the data package</p>
</dd>
<dt><strong>report_dir</strong><span class="classifier">str (default: empty string)</span></dt><dd><p>If not empty, generate an HTML report and write to the directory
<code class="docutils literal notranslate"><span class="pre">report</span></code>.  The directory will have an <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file, and one
HTML file for each dataset.</p>
</dd>
<dt><strong>config</strong><span class="classifier">str</span></dt><dd><p>Config file in YAML format with custom registry.  It should be defined
under a “registry” section.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.describe_registry">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">describe_registry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">column_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/cli.html#describe_registry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.describe_registry" title="Permalink to this definition"></a></dt>
<dd><p>Describe columns defined in the registry</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>column_type</strong><span class="classifier">str (default: empty string → all)</span></dt><dd><p>Column type to list; one of: “cols”, or “idxcols”.  If nothing is
provided (default), columns of both types are listed.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.generate_index_file">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">generate_index_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/cli.html#generate_index_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.generate_index_file" title="Permalink to this definition"></a></dt>
<dd><p>Generate an index file from a set of dataset files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idxpath</strong><span class="classifier">str</span></dt><dd><p>Path where the index file (YAML format) should be written</p>
</dd>
<dt><strong>fpaths</strong><span class="classifier">Tuple[str]</span></dt><dd><p>List of datasets/resources to include in the index</p>
</dd>
<dt><strong>config</strong><span class="classifier">str</span></dt><dd><p>Config file in YAML format with custom registry.  It should be defined
under a “registry” section.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.license_info">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">license_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../_modules/friendly_data/cli.html#license_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.license_info" title="Permalink to this definition"></a></dt>
<dd><p>Give detailed metadata about a license</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lic</strong><span class="classifier">str</span></dt><dd><p>License ID as listed in the output of <code class="docutils literal notranslate"><span class="pre">friendly_data</span> <span class="pre">list-licenses</span></code></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Dict</dt><dd><p>License metadata</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.license_prompt">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">license_prompt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/cli.html#license_prompt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.license_prompt" title="Permalink to this definition"></a></dt>
<dd><p>Prompt for a license on the terminal (with completion).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.list_licenses">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">list_licenses</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/friendly_data/cli.html#list_licenses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.list_licenses" title="Permalink to this definition"></a></dt>
<dd><p>List commonly used licenses</p>
<p>NOTE: for Python API users, not to be confused with
<code class="xref py py-func docutils literal notranslate"><span class="pre">metatools.list_licenses()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>str</dt><dd><p>ASCII table with commonly used licenses</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.main">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/cli.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.main" title="Permalink to this definition"></a></dt>
<dd><p>Entry point for console scripts</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.remove">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkgpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_from_disk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/friendly_data/cli.html#remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.remove" title="Permalink to this definition"></a></dt>
<dd><p>Remove datasets from the package</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkgpath</strong><span class="classifier">str</span></dt><dd><p>Path to the package directory</p>
</dd>
<dt><strong>fpaths</strong><span class="classifier">Tuple[str]</span></dt><dd><p>List of datasets/resources to be removed from the package. The index is
updated accordingly.</p>
</dd>
<dt><strong>rm_from_disk</strong><span class="classifier">bool (default: False)</span></dt><dd><p>Permanently delete the files from disk</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.reports">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">reports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Package</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/cli.html#reports"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.reports" title="Permalink to this definition"></a></dt>
<dd><p>Write HTML reports summarising all resources in the package</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkg</strong><span class="classifier">Package</span></dt><dd></dd>
<dt><strong>report_dir</strong><span class="classifier">str</span></dt><dd><p>Directory where reports are written</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>int</dt><dd><p>Bytes written (index.html)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.to_iamc">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">to_iamc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iamcpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wide</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/cli.html#to_iamc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.to_iamc" title="Permalink to this definition"></a></dt>
<dd><p>Aggregate datasets into an IAMC dataset</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>config</strong><span class="classifier">str</span></dt><dd><p>Config file</p>
</dd>
<dt><strong>idxpath</strong><span class="classifier">str</span></dt><dd><p>Index file</p>
</dd>
<dt><strong>iamcpath</strong><span class="classifier">str</span></dt><dd><p>IAMC dataset</p>
</dd>
<dt><strong>wide</strong><span class="classifier">bool (default: False)</span></dt><dd><p>Enable wide IAMC format</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.cli.update">
<span class="sig-prename descclassname"><span class="pre">friendly_data.cli.</span></span><span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkgpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licenses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keywords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/cli.html#update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.cli.update" title="Permalink to this definition"></a></dt>
<dd><p>Update metadata and datasets in a package.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkgpath</strong><span class="classifier">str</span></dt><dd><p>Path to the package.</p>
</dd>
<dt><strong>fpaths</strong><span class="classifier">Tuple[str]</span></dt><dd><p>List of datasets/resources; they could be new datasets or datasets with
updated index entries.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>Package name (no spaces or special characters)</p>
</dd>
<dt><strong>title</strong><span class="classifier">str</span></dt><dd><p>Package title</p>
</dd>
<dt><strong>description</strong><span class="classifier">str</span></dt><dd><p>Package description</p>
</dd>
<dt><strong>keywords</strong><span class="classifier">str</span></dt><dd><p>A space separated list of keywords: ‘renewable energy model’ -&gt;
[‘renewable’, ‘energy’, ‘model’]</p>
</dd>
<dt><strong>licenses</strong><span class="classifier">str</span></dt><dd><p>License</p>
</dd>
<dt><strong>config</strong><span class="classifier">str</span></dt><dd><p>Config file in YAML format with metadata and custom registry.  The
metadata should be under a “metadata” section, and the custom registry
under a “registry” section.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-friendly_data.validate">
<span id="validation-functions"></span><h1>Validation functions<a class="headerlink" href="#module-friendly_data.validate" title="Permalink to this heading"></a></h1>
<p>Functions useful to validate a data package or parts of its schema.</p>
<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.validate.check_pkg">
<span class="sig-prename descclassname"><span class="pre">friendly_data.validate.</span></span><span class="sig-name descname"><span class="pre">check_pkg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkg</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/validate.html#check_pkg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.validate.check_pkg" title="Permalink to this definition"></a></dt>
<dd><p>Validate all resources in a datapackage for common errors.</p>
<dl class="simple">
<dt>Typical errors that are checked:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">blank-header</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extra-label</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">missing-label</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">blank-label</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">duplicate-label</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">incorrect-label</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">blank-row</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">primary-key-error</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">foreign-key-error</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extra-cell</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">missing-cell</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">type-error</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">constraint-error</span></code>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unique-error</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>pkg</strong><span class="classifier">frictionless.Package</span></dt><dd><p>The datapackage descriptor dictionary</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Dict</dt><dd><p>A dictionary with a summary of the validation checks.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.validate.check_schema">
<span class="sig-prename descclassname"><span class="pre">friendly_data.validate.</span></span><span class="sig-name descname"><span class="pre">check_schema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/validate.html#check_schema"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.validate.check_schema" title="Permalink to this definition"></a></dt>
<dd><p>Compare a schema with a reference.</p>
<p>The reference schema is a minimal set, meaning, any additional fields in
the compared schema are accepted, but omissions are not.</p>
<p>Name comparisons are case-sensitive.</p>
<p>TODO: maybe also compare constraints?</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ref</strong><span class="classifier">Dict[str, str]</span></dt><dd><p>Reference schema dictionary</p>
</dd>
<dt><strong>dst</strong><span class="classifier">Dict[str, str]</span></dt><dd><p>Schema dictionary from the dataset being validated</p>
</dd>
<dt><strong>remap</strong><span class="classifier">Dict[str, str] (optional)</span></dt><dd><p>Column/field names that are to be remapped before checking.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier">Tuple[bool, Set[str], Dict[str, Tuple[str, str]], List[Tuple]]</span></dt><dd><p>Result tuple:</p>
<ul>
<li><p>Boolean flag indicating if it passed the checks or not</p></li>
<li><p>If checks failed, set of missing columns from minimal set</p></li>
<li><p>If checks failed, set of columns with mismatching types.  It is a
dictionary with the column name as key, and the reference type and
the actual type in a tuple as value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;col_x&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;integer&#39;</span><span class="p">,</span> <span class="s1">&#39;number&#39;</span><span class="p">),</span>
    <span class="s1">&#39;col_y&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;datetime&#39;</span><span class="p">,</span> <span class="s1">&#39;string&#39;</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>If primary keys are different, tuple with the diff.  The first
element is the index where the two differ, and the two subsequent
elements are the corresponding elements from the reference and
dataset primary key list: <code class="docutils literal notranslate"><span class="pre">(index,</span> <span class="pre">ref_col,</span> <span class="pre">dst_col)</span></code></p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.validate.summarise_diff">
<span class="sig-prename descclassname"><span class="pre">friendly_data.validate.</span></span><span class="sig-name descname"><span class="pre">summarise_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">diff</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/friendly_data/validate.html#summarise_diff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.validate.summarise_diff" title="Permalink to this definition"></a></dt>
<dd><p>Summarise the schema diff from <a class="reference internal" href="#friendly_data.validate.check_schema" title="friendly_data.validate.check_schema"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_schema()</span></code></a> results as a
<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.validate.summarise_errors">
<span class="sig-prename descclassname"><span class="pre">friendly_data.validate.</span></span><span class="sig-name descname"><span class="pre">summarise_errors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">report</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="reference internal" href="../_modules/friendly_data/validate.html#summarise_errors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.validate.summarise_errors" title="Permalink to this definition"></a></dt>
<dd><p>Summarise the dict/json error report as a <cite>pandas.DataFrame</cite></p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>report</strong><span class="classifier">List[Dict]</span></dt><dd><p>List of errors as returned by <a class="reference internal" href="#friendly_data.validate.check_pkg" title="friendly_data.validate.check_pkg"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_pkg()</span></code></a></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt>pandas.DataFrame</dt><dd><p>Summary dataframe; example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">filename</span>  <span class="n">row</span>  <span class="n">col</span>       <span class="n">error</span>  <span class="n">remark</span>
<span class="mi">0</span>   <span class="n">bad</span><span class="o">.</span><span class="n">csv</span>   <span class="mi">12</span>       <span class="n">extra</span><span class="o">-</span><span class="n">cell</span>     <span class="o">...</span>
<span class="mi">1</span>   <span class="n">bad</span><span class="o">.</span><span class="n">csv</span>   <span class="mi">22</span>  <span class="n">SRB</span>  <span class="nb">type</span><span class="o">-</span><span class="n">error</span>     <span class="o">...</span>
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="data-analysis-interface">
<h1>Data analysis interface<a class="headerlink" href="#data-analysis-interface" title="Permalink to this heading"></a></h1>
<p>The following modules provide interfaces that are useful when you are
working with common data analysis frameworks like <code class="docutils literal notranslate"><span class="pre">pandas</span></code> and
<code class="docutils literal notranslate"><span class="pre">xarray</span></code>.</p>
<section id="module-friendly_data.converters">
<span id="converters"></span><h2>Converters<a class="headerlink" href="#module-friendly_data.converters" title="Permalink to this heading"></a></h2>
<p>Functions useful to read a data package resource into common analysis
frameworks like <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, <code class="docutils literal notranslate"><span class="pre">xarray</span></code>, etc.  Currently supported:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 43%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Library</p></th>
<th class="head"><p>Data Structure</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pandas</span></code></p></td>
<td><p>:class:<code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">xarray</span></code> (via <code class="docutils literal notranslate"><span class="pre">pandas</span></code>)</p></td>
<td><p>:class:<code class="docutils literal notranslate"><span class="pre">xarray.DataArray</span></code>,
:class:<code class="docutils literal notranslate"><span class="pre">xarray.Dataset</span></code>,
multi-file :class:<code class="docutils literal notranslate"><span class="pre">xarray.Dataset</span></code></p></td>
</tr>
</tbody>
</table>
<p>Type mapping between the frictionless specification and pandas types:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 43%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>schema type</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">bool</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">datetime</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">datetime64</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">integer</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Int64</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">number</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">string</span></code></p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.from_df">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">from_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_dfseries_t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datapath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Resource</span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#from_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.from_df" title="Permalink to this definition"></a></dt>
<dd><p>Write dataframe to a CSV file, and return a data package resource.</p>
<p>NOTE: Do not call <code class="docutils literal notranslate"><span class="pre">frictionless.Resource.infer()</span></code> on the resource
instance returned by this function, as that might overwrite our
metadata/schema customisations with default heuristics in the
<code class="docutils literal notranslate"><span class="pre">frictionless</span></code> implementation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.DataFrame | pd.Series</span></dt><dd><p>Dataframe to write</p>
</dd>
<dt><strong>basepath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to the package directory</p>
</dd>
<dt><strong>datapath</strong><span class="classifier">Union[str, Path] (default: empty string)</span></dt><dd><p>Path to the CSV file where the dataframe is written.  If <cite>datapath</cite> is
empty, a file name is generated by concatinating all the columns in the
dataframe.</p>
</dd>
<dt><strong>alias</strong><span class="classifier">Dict[str, str] (default: {})</span></dt><dd><p>A dictionary of column aliases if the dataframe has custom column names
that need to be mapped to columns in the registry.  The key is the
column name in the dataframe, and the value is a column in the
registry.</p>
</dd>
<dt><strong>rename</strong><span class="classifier">bool (default: True)</span></dt><dd><p>Rename aliased columns to match the registry when writing to the CSV.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>frictionless.Resource</dt><dd><p>Data package resource that points to the CSV file.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.from_dst">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">from_dst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">xarray.Dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Resource</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#from_dst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.from_dst" title="Permalink to this definition"></a></dt>
<dd><p>Write an <code class="docutils literal notranslate"><span class="pre">xarray.Dataset</span></code> into CSV files, and return the list resources</p>
<p>Each data variable is written to a separate CSV file in the directory
specified by <cite>basepath</cite>.  The file name is derived from the data variable
name by sanitising it and appending the CSV extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dst</strong><span class="classifier">xr.Dataset</span></dt><dd><p>Dataset to write</p>
</dd>
<dt><strong>basepath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to the package directory</p>
</dd>
<dt><strong>alias</strong><span class="classifier">Dict[str, str]</span></dt><dd><p>A dictionary of column aliases if the dataset has custom data
variable/coordinate names that need to be mapped to columns in the
registry.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List[Resource]</dt><dd><p>List of data package resources that point to the CSV files.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.resolve_aliases">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">resolve_aliases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_dfseries_t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_dfseries_t</span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#resolve_aliases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.resolve_aliases" title="Permalink to this definition"></a></dt>
<dd><p>Return a copy of the dataframe with aliases resolved</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.DataFrame | pd.Series</span></dt><dd></dd>
<dt><strong>alias</strong><span class="classifier">Dict[str, str]</span></dt><dd><p>A dictionary of column aliases if the dataframe has custom column names
that need to be mapped to columns in the registry.  The key is the
column name in the dataframe, and the value is a column in the
registry.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pd.DataFrame | pd.Series</dt><dd><p>Since the column and index levels are renamed, a copy is returned so
that the original dataframe/series remains unaltered.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.to_da">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">to_da</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noexcept</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">xarray.DataArray</span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#to_da"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.to_da" title="Permalink to this definition"></a></dt>
<dd><p>Reads a data package resource as an <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></p>
<p>This function is restricted to tables with only one value column
(equivalent to a <cite>pandas.Series</cite>).  All indices are treated as
<code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.core.coordinates.DataArrayCoordinates</span></code> and dimensions.  The
array is reshaped to match the dimensions.  Any unit index is extracted and
attached as an attribute to the data array.  It is assumed that the whole
table uses the same unit.</p>
<p>Additional keyword arguments are passed on to <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>resource</strong><span class="classifier">frictionless.Resource</span></dt><dd><p>List of data package resource objects</p>
</dd>
<dt><strong>noexcept</strong><span class="classifier">bool (default: False)</span></dt><dd><p>Whether to suppress an exception</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Additional keyword arguments that are passed on to
<code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#friendly_data.converters.to_df" title="friendly_data.converters.to_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_df()</span></code></a></dt><dd><p>see for details on <code class="docutils literal notranslate"><span class="pre">noexcept</span></code></p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.to_df">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">to_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noexcept</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.to_df" title="Permalink to this definition"></a></dt>
<dd><p>Reads a data package resource as a <cite>pandas.DataFrame</cite></p>
<p>FIXME: ‘format’ in the schema is ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>resource</strong><span class="classifier">frictionless.Resource</span></dt><dd><p>A data package resource object</p>
</dd>
<dt><strong>noexcept</strong><span class="classifier">bool (default: False)</span></dt><dd><p>Whether to suppress an exception</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Additional keyword arguments that are passed on to the reader:
<code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_csv()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.read_excel()</span></code>, etc</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pandas.DataFrame</dt><dd><p>NOTE: when <code class="docutils literal notranslate"><span class="pre">noexcept</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, and there’s an exception, an empty
dataframe is returned</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If the resource is not local
If the source type the resource is pointing to isn’t supported</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.to_dst">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">to_dst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resource</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Resource</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noexcept</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">xarray.Dataset</span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#to_dst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.to_dst" title="Permalink to this definition"></a></dt>
<dd><p>Reads a data package resource as an <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.Dataset</span></code></p>
<p>Unlike <a class="reference internal" href="#friendly_data.converters.to_da" title="friendly_data.converters.to_da"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_da()</span></code></a>, this function works for all tables.  All indices are
treated as <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.core.coordinates.DataArrayCoordinates</span></code> and
dimensions.  The arrays is reshaped to match the dimensions.  Any unit
index is extracted and attached as an attribute to each data arrays.  It is
assumed that all columns in the whole table uses the same unit.</p>
<p>Additional keyword arguments are passed on to <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.Dataset</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>resource</strong><span class="classifier">frictionless.Resource</span></dt><dd><p>List of data package resource objects</p>
</dd>
<dt><strong>noexcept</strong><span class="classifier">bool (default: False)</span></dt><dd><p>Whether to suppress an exception</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Additional keyword arguments that are passed on to
<code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.Dataset</span></code></p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#friendly_data.converters.to_df" title="friendly_data.converters.to_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_df()</span></code></a></dt><dd><p>see for details on <code class="docutils literal notranslate"><span class="pre">noexcept</span></code></p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.to_mfdst">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">to_mfdst</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resources</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Resource</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noexcept</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">xarray.Dataset</span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#to_mfdst"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.to_mfdst" title="Permalink to this definition"></a></dt>
<dd><p>Reads a list of data package resources as an <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.Dataset</span></code></p>
<p>This function reads multiple resources/files and converts each column into
a data array (identical to <a class="reference internal" href="#friendly_data.converters.to_dst" title="friendly_data.converters.to_dst"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_dst()</span></code></a>), which are then combined into
one <code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.Dataset</span></code>.  Note that any value column that is present
more than once in the data package is overwritten by the last one.  If you
want support for duplicates, you should use <a class="reference internal" href="#friendly_data.converters.to_dst" title="friendly_data.converters.to_dst"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_dst()</span></code></a> and handle the
duplicates yourself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>resources</strong><span class="classifier">List[frictionless.Resource]</span></dt><dd><p>List of data package resource objects</p>
</dd>
<dt><strong>noexcept</strong><span class="classifier">bool (default: False)</span></dt><dd><p>Whether to suppress an exception</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Additional keyword arguments that are passed on to
<code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.Dataset</span></code></p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#friendly_data.converters.to_df" title="friendly_data.converters.to_df"><code class="xref py py-func docutils literal notranslate"><span class="pre">to_df()</span></code></a></dt><dd><p>see for details on <code class="docutils literal notranslate"><span class="pre">noexcept</span></code></p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.xr_da">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">xr_da</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Hashable</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">xarray.DataArray</span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#xr_da"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.xr_da" title="Permalink to this definition"></a></dt>
<dd><p>Create an xarray data array from a data frame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd></dd>
<dt><strong>col</strong><span class="classifier">Union[int, Hashable]</span></dt><dd><p>Column to use to create the data array, either use the column number,
or column name</p>
</dd>
<dt><strong>coords</strong><span class="classifier">Dict</span></dt><dd><p>Dictionary of coordinate arrays</p>
</dd>
<dt><strong>attrs</strong><span class="classifier">Dict</span></dt><dd><p>Dictionary of metadata attributes like unit</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>xarray.DataArray</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.converters.xr_metadata">
<span class="sig-prename descclassname"><span class="pre">friendly_data.converters.</span></span><span class="sig-name descname"><span class="pre">xr_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.DataFrame</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/converters.html#xr_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.converters.xr_metadata" title="Permalink to this definition"></a></dt>
<dd><p>Extract metadata to create xarray data array/datasets</p>
<p>All indices except unit is extracted as coordinates, and “unit” is
extracted as metadata attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Tuple[pandas.DataFrame, Dict, Dict]</dt><dd><p>The dataframe with units removed, dictionary of coordinates, dictionary
with constant attributes like units</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-friendly_data.tseries">
<span id="time-series-api"></span><h2>Time series API<a class="headerlink" href="#module-friendly_data.tseries" title="Permalink to this heading"></a></h2>
<p>Convenience functions useful to ingest different kinds of differently shaped
time series data into the standard 1-D shape supported by the data package
specification.</p>
<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.tseries.from_multicol">
<span class="sig-prename descclassname"><span class="pre">friendly_data.tseries.</span></span><span class="sig-name descname"><span class="pre">from_multicol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_file_t</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">_col_t</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/tseries.html#from_multicol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.tseries.from_multicol" title="Permalink to this definition"></a></dt>
<dd><p>Read a time series where datetime values are in multiple columns.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#friendly_data.tseries.read_timeseries" title="friendly_data.tseries.read_timeseries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_timeseries</span></code></a></dt><dd><p>see for full documentation, main entrypoint for users</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.tseries.from_table">
<span class="sig-prename descclassname"><span class="pre">friendly_data.tseries.</span></span><span class="sig-name descname"><span class="pre">from_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_file_t</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_fmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/tseries.html#from_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.tseries.from_table" title="Permalink to this definition"></a></dt>
<dd><p>Read a time series from a tabular file.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#friendly_data.tseries.read_timeseries" title="friendly_data.tseries.read_timeseries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_timeseries</span></code></a></dt><dd><p>see for full documentation, main entrypoint for users</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.tseries.read_timeseries">
<span class="sig-prename descclassname"><span class="pre">friendly_data.tseries.</span></span><span class="sig-name descname"><span class="pre">read_timeseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_file_t</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">_col_t</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_units</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_fmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/tseries.html#read_timeseries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.tseries.read_timeseries" title="Permalink to this definition"></a></dt>
<dd><p>Read a time series from a file.</p>
<p>While the natural way to structure a time series dataset is with the index
column as datetime values, with subsequent columns holding other values,
there are a few other frequently used structures.</p>
<p>The first is to structure it as a table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 37%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 17%" />
<col style="width: 13%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>date</p></th>
<th class="head"><p>1</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p>…</p></th>
<th class="head"><p>23</p></th>
<th class="head"><p>24</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1/1/2016</p></td>
<td><p>0</p></td>
<td><p>10</p></td>
<td><p>…</p></td>
<td><p>2.3</p></td>
<td><p>5.1</p></td>
</tr>
<tr class="row-odd"><td><p>4/1/2016</p></td>
<td><p>3</p></td>
<td><p>11</p></td>
<td><p>…</p></td>
<td><p>4.3</p></td>
<td><p>9.1</p></td>
</tr>
</tbody>
</table>
<p>When <cite>source_t</cite> is set to “table”, this function reads a tabular dataset
like the one above, and flattens it into a series, and sets the appropriate
datetime values as their index.</p>
<p>The other common structure is to split the datetime values into multiple
columns in the table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 21%" />
<col style="width: 21%" />
<col style="width: 21%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>date</p></th>
<th class="head"><p>time</p></th>
<th class="head"><p>col1</p></th>
<th class="head"><p>col2</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1/1/2016</p></td>
<td><p>10:00</p></td>
<td><p>42.0</p></td>
<td><p>foo</p></td>
</tr>
<tr class="row-odd"><td><p>4/1/2016</p></td>
<td><p>11:00</p></td>
<td><p>3.14</p></td>
<td><p>bar</p></td>
</tr>
</tbody>
</table>
<p>When <cite>source_t</cite> is set to “multicol”, as the table is read, the indicated
columns are combined to construct the datetime values, which are then set
as the index.</p>
<p>If <cite>source_t</cite> is not specified (or set to an empty string), options
specific to this function are ignored, and all other keyword options are
passed on to the backend transparently; in case of reading a CSV with
Pandas, that means all valid keywords for <cite>pandas.read_csv</cite> are accepted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">Union[str, Path, TextIO]</span></dt><dd><p>Path to the dataset file</p>
</dd>
<dt><strong>date_cols</strong><span class="classifier">List[int, str] (for “multicol” mode)</span></dt><dd><p>List of columns to be combined to construct the datetime values</p>
</dd>
<dt><strong>col_units</strong><span class="classifier">str (for “table” mode)</span></dt><dd><p>Time units for the columns.  Accepted values: “month”, “hour”.</p>
</dd>
<dt><strong>zero_idx</strong><span class="classifier">bool (for “table” mode, default: False)</span></dt><dd><p>Whether the columns are zero indexed.  When the columns represent
hours, or minutes, it is common to number them as nth hour.  Which
means they are counted starting at 1 instead of 0.  Set this to False
if that is the case.</p>
</dd>
<dt><strong>row_fmt</strong><span class="classifier">str (for “table” mode, default: empty string)</span></dt><dd><p>What is the format of the datetime column (use strftime format strings,
see: <cite>man 3 strftime</cite>).  If this is left empty, the reader tries to
guess a format using the <cite>dateutil</cite> module (Pandas default)</p>
</dd>
<dt><strong>source_t</strong><span class="classifier">str (default: empty string)</span></dt><dd><p>Mode of reading the data. Accepted values: “table”, “multicol”, or
empty string</p>
</dd>
<dt><strong>**kwards</strong><span class="classifier">Dict</span></dt><dd><p>Other keyword arguments passed on to the reader backend.  Any options
passed here takes precedence, and overwrites other values inferred from
the earlier keyword arguments.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ts</strong><span class="classifier">Series/DataFrame</span></dt><dd><p>The time series is returned as a series or a dataframe depending on the
number of other columns that are present.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>To skip specific rows, maybe because they have bad data, or are empty, you
may use the <cite>skiprows</cite> option.  It can be set to a list-like where the
entries are row indices (numbers).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">read_timeseries</span><span class="p">(</span><span class="s2">&quot;mydata.csv&quot;</span><span class="p">,</span> <span class="n">source_t</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="n">col_units</span><span class="o">=</span><span class="s2">&quot;hour&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">skiprows</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1522</span><span class="p">,</span> <span class="mi">5480</span><span class="p">))</span>  
</pre></div>
</div>
<p>The above example skips rows 1522-5480.</p>
<p>Similarly, data type of the column values can be controlled by using the
<cite>dtype</cite> option.  When set to a <cite>numpy.dtype</cite>, all values will be read as
that type, which is probably relevant for the “table” mode.  In the
“multicol” mode, the types of the values can be controlled at the column
level by setting it to a dictionary, where the key matches a column name,
and the value is a valid <cite>numpy.dtype</cite>.</p>
</dd></dl>

</section>
<section id="module-friendly_data.iamc">
<span id="conversion-to-iamc"></span><h2>Conversion to IAMC<a class="headerlink" href="#module-friendly_data.iamc" title="Permalink to this heading"></a></h2>
<p>Interface to convert a Friendly dataset to IAMC format</p>
<p>Configuration can be done using two separate files, A global config file (in
YAML format) can set options like mapping an index column to the corresponding
IAMC names, and setting default values for mandatory columns.  Whereas per
dataset configuration like, identifying index columns, mapping a dataset to its
IAMC variable name, defining column aliases, and aggregations can be done in an
index file (in YAML format).</p>
<dl class="py class">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">friendly_data.iamc.</span></span><span class="sig-name descname"><span class="pre">IAMconv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#friendly_data.dpkg.pkgindex" title="friendly_data.dpkg.pkgindex"><span class="pre">pkgindex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">indices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv" title="Permalink to this definition"></a></dt>
<dd><p>Converter class for IAMC data</p>
<p>This class resolves index columns against the “semi-hierarchical” variables
used in IAMC data, and separates them into individual datasets that are
part of the datapackage.  It relies on the index file and index column
definitions to do the disaggregation.  It also supports the reverse
operation of aggregating multiple datasets into an IAMC dataset.</p>
<p><strong>TODO:</strong></p>
<ul class="simple">
<li><p>describe assumptions (e.g. case insensitive match) and fallbacks
(e.g. missing title)</p></li>
<li><p>limitations (e.g. when no index column exists)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Attributes</dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference internal" href="#friendly_data.iamc.IAMconv.basepath" title="friendly_data.iamc.IAMconv.basepath"><code class="xref py py-obj docutils literal notranslate"><span class="pre">basepath</span></code></a></dt><dd><p>Data package basepath, directory the index file is located</p>
</dd>
<dt><a class="reference internal" href="#friendly_data.iamc.IAMconv.indices" title="friendly_data.iamc.IAMconv.indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">indices</span></code></a></dt><dd><p>Index definitions</p>
</dd>
<dt><a class="reference internal" href="#friendly_data.iamc.IAMconv.res_idx" title="friendly_data.iamc.IAMconv.res_idx"><code class="xref py py-obj docutils literal notranslate"><span class="pre">res_idx</span></code></a></dt><dd><p>Package index</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.agg_idxcol" title="friendly_data.iamc.IAMconv.agg_idxcol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">agg_idxcol</span></code></a>(df, col, entry)</p></td>
<td><p>Aggregate values and generate IAMC dataframes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.agg_vals_all" title="friendly_data.iamc.IAMconv.agg_vals_all"><code class="xref py py-obj docutils literal notranslate"><span class="pre">agg_vals_all</span></code></a>(entry)</p></td>
<td><p>Find all values in index column that are present in an aggregate rule</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.frames" title="friendly_data.iamc.IAMconv.frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">frames</span></code></a>(entry, df)</p></td>
<td><p>Convert the dataframe to IAMC format according to configuration in the entry</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.from_file" title="friendly_data.iamc.IAMconv.from_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_file</span></code></a>(confpath, idxpath)</p></td>
<td><p>Create a mapping of IAMC indicator variables with index columns</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.iamcify" title="friendly_data.iamc.IAMconv.iamcify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">iamcify</span></code></a>(df)</p></td>
<td><p>Transform dataframe to match the IAMC (long) format</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.index_levels" title="friendly_data.iamc.IAMconv.index_levels"><code class="xref py py-obj docutils literal notranslate"><span class="pre">index_levels</span></code></a>(idxcols)</p></td>
<td><p>Index levels for user defined index columns</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.read_indices" title="friendly_data.iamc.IAMconv.read_indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">read_indices</span></code></a>(path, basepath, **kwargs)</p></td>
<td><p>Read index column definitions provided in config</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.resolve_idxcol_defaults" title="friendly_data.iamc.IAMconv.resolve_idxcol_defaults"><code class="xref py py-obj docutils literal notranslate"><span class="pre">resolve_idxcol_defaults</span></code></a>(df)</p></td>
<td><p>Find missing IAMC indices and set them to the default value from config</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.to_csv" title="friendly_data.iamc.IAMconv.to_csv"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_csv</span></code></a>(files, output[, wide])</p></td>
<td><p>Write converted IAMC data frame to a CSV file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#friendly_data.iamc.IAMconv.to_df" title="friendly_data.iamc.IAMconv.to_df"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_df</span></code></a>(files_or_dfs)</p></td>
<td><p>Convert CSV files/dataframes to IAMC format according to the index</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.agg_idxcol">
<span class="sig-name descname"><span class="pre">agg_idxcol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.agg_idxcol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.agg_idxcol" title="Permalink to this definition"></a></dt>
<dd><p>Aggregate values and generate IAMC dataframes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pd.DataFrame</span></dt><dd><p>Dataframe to aggregate from</p>
</dd>
<dt><strong>col</strong><span class="classifier">str</span></dt><dd><p>Column to perform aggregation on</p>
</dd>
<dt><strong>entry</strong><span class="classifier">Dict</span></dt><dd><p>Index entry with aggregation rules</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List[pd.DataFrame]</dt><dd><p>List of IAMC dataframes</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.agg_vals_all">
<span class="sig-name descname"><span class="pre">agg_vals_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.agg_vals_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.agg_vals_all" title="Permalink to this definition"></a></dt>
<dd><p>Find all values in index column that are present in an aggregate rule</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.basepath">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">basepath</span></span><a class="headerlink" href="#friendly_data.iamc.IAMconv.basepath" title="Permalink to this definition"></a></dt>
<dd><p>Data package basepath, directory the index file is located</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.frames">
<span class="sig-name descname"><span class="pre">frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">pandas.DataFrame</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.frames" title="Permalink to this definition"></a></dt>
<dd><p>Convert the dataframe to IAMC format according to configuration in the entry</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>entry</strong><span class="classifier">Dict</span></dt><dd><p>Index entry</p>
</dd>
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd><p>The dataframe that is to be converted to IAMC format</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List[pandas.DataFrame]</dt><dd><p>List of <a href="#id1"><span class="problematic" id="id2">``</span></a>pandas.DataFrame``s in IAMC format</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.from_file">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">confpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#friendly_data.iamc.IAMconv" title="friendly_data.iamc.IAMconv"><span class="pre">IAMconv</span></a></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.from_file" title="Permalink to this definition"></a></dt>
<dd><p>Create a mapping of IAMC indicator variables with index columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>confpath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to config file for IAMC &lt;-&gt; data package config file</p>
</dd>
<dt><strong>idxpath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to index file</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Keyword arguments passed on to the pandas reader backend.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>IAMconv</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.iamcify">
<span class="sig-name descname"><span class="pre">iamcify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.iamcify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.iamcify" title="Permalink to this definition"></a></dt>
<dd><p>Transform dataframe to match the IAMC (long) format</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.index_levels">
<span class="sig-name descname"><span class="pre">index_levels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxcols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">pandas.Series</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.index_levels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.index_levels" title="Permalink to this definition"></a></dt>
<dd><p>Index levels for user defined index columns</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idxcols</strong><span class="classifier">Iterable[str]</span></dt><dd><p>Iterable of index column names</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Dict[str, pd.Series]</dt><dd><p>Different values for a given set of index columns</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.indices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">indices</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><a class="headerlink" href="#friendly_data.iamc.IAMconv.indices" title="Permalink to this definition"></a></dt>
<dd><p>Index definitions</p>
<ul class="simple">
<li><p>Default value of mandatory index columns in case they are missing</p></li>
<li><p>Different levels of user defined index columns; points to a 2-column
CSV file, with the “name” and “iamc” columns</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.read_indices">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">read_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.Series</span></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.read_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.read_indices" title="Permalink to this definition"></a></dt>
<dd><p>Read index column definitions provided in config</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.res_idx">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">res_idx</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#friendly_data.dpkg.pkgindex" title="friendly_data.dpkg.pkgindex"><span class="pre">pkgindex</span></a></em><a class="headerlink" href="#friendly_data.iamc.IAMconv.res_idx" title="Permalink to this definition"></a></dt>
<dd><p>Package index</p>
<p>Each entry corresponds to a resource that maybe included in IAMC output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.resolve_idxcol_defaults">
<span class="sig-name descname"><span class="pre">resolve_idxcol_defaults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.DataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.resolve_idxcol_defaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.resolve_idxcol_defaults" title="Permalink to this definition"></a></dt>
<dd><p>Find missing IAMC indices and set them to the default value from config</p>
<p>The IAMC format requires the following indices: <cite>self._IAMC_IDX</cite>; if
any of them are missing, the corresponding index level is created, and
the level values are set to a constant specified in the config.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>df</strong><span class="classifier">pandas.DataFrame</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pandas.DataFrame</dt><dd><p>Dataframe with default index columns resolved</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.to_csv">
<span class="sig-name descname"><span class="pre">to_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wide</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.to_csv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.to_csv" title="Permalink to this definition"></a></dt>
<dd><p>Write converted IAMC data frame to a CSV file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>files</strong><span class="classifier">Iterable[Union[str, Path]]</span></dt><dd><p>List of files to collate and convert to IAMC</p>
</dd>
<dt><strong>output</strong><span class="classifier">Union[str, Path] (default: empty string)</span></dt><dd><p>Path of the output CSV file; if empty, nothing is written to file.</p>
</dd>
<dt><strong>basepath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Data package base path</p>
</dd>
<dt><strong>wide</strong><span class="classifier">bool (default: False)</span></dt><dd><p>Write the CSN in wide format (with years as columns)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.iamc.IAMconv.to_df">
<span class="sig-name descname"><span class="pre">to_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">files_or_dfs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">pandas.DataFrame</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.DataFrame</span></span></span><a class="reference internal" href="../_modules/friendly_data/iamc.html#IAMconv.to_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.iamc.IAMconv.to_df" title="Permalink to this definition"></a></dt>
<dd><p>Convert CSV files/dataframes to IAMC format according to the index</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>files_or_dfs</strong><span class="classifier">Union[Iterable[Union[str, Path]], Dict[str, pandas.DataFrame]]</span></dt><dd><p>List of files or a dictionary of dataframes, to be collated and
converted to IAMC format.  Each item must have an entry in the
package index the converter was initialised with, it is skipped
otherwise.  Files are matched by file <code class="docutils literal notranslate"><span class="pre">path</span></code>, whereas dataframes
match when the dictionary key matches the index entry <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>Note when the files are read, the basepath is set to whatever the
converter was initialised with.  If <a class="reference internal" href="#friendly_data.iamc.IAMconv.from_file" title="friendly_data.iamc.IAMconv.from_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">IAMconv.from_file()</span></code></a> was
used, it is the parent directory of the index file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>DataFrame</dt><dd><p>A <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> in IAMC format</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="internal-interfaces">
<h1>Internal interfaces<a class="headerlink" href="#internal-interfaces" title="Permalink to this heading"></a></h1>
<p>Internal functions and classes; useful if you are developing new
features for <code class="docutils literal notranslate"><span class="pre">friendly_data</span></code>.</p>
<section id="module-friendly_data.io">
<span id="file-i-o"></span><h2>File I/O<a class="headerlink" href="#module-friendly_data.io" title="Permalink to this heading"></a></h2>
<p>Functions useful for I/O and file manipulation</p>
<dl class="py class">
<dt class="sig sig-object py" id="friendly_data.io.HttpCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">HttpCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url_t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/io.html#HttpCache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.HttpCache" title="Permalink to this definition"></a></dt>
<dd><p>An HTTP cache</p>
<p>It accepts a URL template which accepts parameters:
<code class="docutils literal notranslate"><span class="pre">https://www.example.com/path/{}.json</span></code>, the parameters can be provided
later at fetch time.  No checks are made if the number of parameters passed
are compatible with the URL template.</p>
<p>After fetching a resource, it is cached in a file under
<code class="docutils literal notranslate"><span class="pre">$TMPDIR/friendly_data_cache/</span></code>.  The file name is of the form
<code class="docutils literal notranslate"><span class="pre">http-&lt;checksum-of-url-template&gt;-&lt;checksum-of-url&gt;</span></code>.  The cache is
updated every 24 hours.  A user may also force a cache cleanup by calling
<a class="reference internal" href="#friendly_data.io.HttpCache.remove" title="friendly_data.io.HttpCache.remove"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>url_t</strong><span class="classifier">str</span></dt><dd><p>URL template, e.g. <code class="docutils literal notranslate"><span class="pre">https://www.example.com/path/{}.json</span></code></p>
</dd>
</dl>
</dd>
<dt class="field-even">Attributes</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>cachedir</strong><span class="classifier">pathlib.Path</span></dt><dd><p>Path object pointing to the cache directory</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.io.HttpCache.cachefile" title="friendly_data.io.HttpCache.cachefile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">cachefile</span></code></a>(arg, *args)</p></td>
<td><p>Return the cache file, and the corresponding URL</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#friendly_data.io.HttpCache.fetch" title="friendly_data.io.HttpCache.fetch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fetch</span></code></a>(url)</p></td>
<td><p>Fetch the URL</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#friendly_data.io.HttpCache.get" title="friendly_data.io.HttpCache.get"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code></a>(arg, *args)</p></td>
<td><p>Get the URL contents</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#friendly_data.io.HttpCache.remove" title="friendly_data.io.HttpCache.remove"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove</span></code></a>(*args)</p></td>
<td><p>Remove cache files</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.io.HttpCache.cachefile">
<span class="sig-name descname"><span class="pre">cachefile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#HttpCache.cachefile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.HttpCache.cachefile" title="Permalink to this definition"></a></dt>
<dd><p>Return the cache file, and the corresponding URL</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>arg</strong><span class="classifier">str</span></dt><dd><p>parameters for the URL template (one mandatory)</p>
</dd>
<dt><strong>*args</strong><span class="classifier">str, optional</span></dt><dd><p>more parameters (optional)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Tuple[pathlib.Path, str]</dt><dd><p>Tuple of Path object pointing to the cache file and the URL string</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.io.HttpCache.fetch">
<span class="sig-name descname"><span class="pre">fetch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#HttpCache.fetch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.HttpCache.fetch" title="Permalink to this definition"></a></dt>
<dd><p>Fetch the URL</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>url</strong><span class="classifier">str</span></dt><dd><p>URL to fetch</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bytes</dt><dd><p>bytes array of the contents that was fetched</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If the URL is incorrect</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.io.HttpCache.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#HttpCache.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.HttpCache.get" title="Permalink to this definition"></a></dt>
<dd><p>Get the URL contents</p>
<p>If a valid cache exists, return the contents from there, otherwise
fetch again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>arg</strong><span class="classifier">str</span></dt><dd><p>parameters for the URL template (one mandatory)</p>
</dd>
<dt><strong>*args</strong><span class="classifier">str, optional</span></dt><dd><p>more parameters (optional)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bytes</dt><dd><p>bytes array of the contents</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>ValueError</dt><dd><p>If the URL is incorrect</p>
</dd>
<dt>requests.ConnectionError</dt><dd><p>If there is no network connection</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="friendly_data.io.HttpCache.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/io.html#HttpCache.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.HttpCache.remove" title="Permalink to this definition"></a></dt>
<dd><p>Remove cache files</p>
<ul class="simple">
<li><p>Remove all files associated with this cache (w/o arguments).</p></li>
<li><p>Remove only the files associated with the URL formed from the args.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*args</strong><span class="classifier">str, optional</span></dt><dd><p>parameters for the URL template</p>
</dd>
</dl>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><dl class="simple">
<dt>FileNotFoundError</dt><dd><p>If an argument is provided to remove a specific cache file, but the
cache file does not exist.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.io.copy_files">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">copy_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">anchor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#copy_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.copy_files" title="Permalink to this definition"></a></dt>
<dd><p>Copy files to a directory</p>
<p>Without an anchor, the source files are copied to the root of the
destination directory; with an anchor, the relative paths between the
source files are maintained; any required subdirectories are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>src</strong><span class="classifier">Iterable[Union[str, Path]]</span></dt><dd><p>List of files to be copied</p>
</dd>
<dt><strong>dest</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Destination directory</p>
</dd>
<dt><strong>anchor</strong><span class="classifier">Union[str, Path] (default: empty string)</span></dt><dd><p>Top-level directory for anchoring, provide if you want the relative
paths between the source files to be maintained with respect to this
directory.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List[Path]</dt><dd><p>List of files that were copied</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.io.dwim_file">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">dwim_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#dwim_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.dwim_file" title="Permalink to this definition"></a></dt>
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">dwim_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span></dt>
<dd><p>Do What I Mean with file</p>
<p>Depending on the function arguments, either read the contents of a file, or
write data to the file.  The file type is guessed from the extension;
supported formats: JSON and YAML.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>File path to read or write to</p>
</dd>
<dt><strong>data</strong><span class="classifier">Union[None, Any]</span></dt><dd><p>Data, when writing to a file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Union[None, Union[Dict, List]]</dt><dd><ul class="simple">
<li><p>If writing to a file, nothing (<code class="docutils literal notranslate"><span class="pre">None</span></code>) is returned</p></li>
<li><p>If reading from a file, depending on the contents, either a list or
dictionary are returned</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.io.get_cachedir">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">get_cachedir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Path</span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#get_cachedir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.get_cachedir" title="Permalink to this definition"></a></dt>
<dd><p>Create the directory <code class="docutils literal notranslate"><span class="pre">$TMPDIR/friendly_data_cache</span></code> and return the Path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.io.outoftree_paths">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">outoftree_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#outoftree_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.outoftree_paths" title="Permalink to this definition"></a></dt>
<dd><p>Separate a list of paths into in tree and out of tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>basepath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to use as the reference when identifying in/out of tree paths.</p>
</dd>
<dt><strong>fpaths</strong><span class="classifier">Iterable[Union[str, Path]]</span></dt><dd><p>List of paths.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Tuple[List[str], List[Path]]</dt><dd><p>A pair of list of in tree and out of tree paths</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.io.path_in">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">path_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#path_in"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.path_in" title="Permalink to this definition"></a></dt>
<dd><p>Function to test if a path is in a list of paths.</p>
<p>The test checks if they are the same physical files or not, so the testfile
needs to exist on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpaths</strong><span class="classifier">Iterable[Union[str, Path]]</span></dt><dd><p>List of paths to check</p>
</dd>
<dt><strong>testfile</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Test file (must exist on disk)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.io.path_not_in">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">path_not_in</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpaths</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#path_not_in"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.path_not_in" title="Permalink to this definition"></a></dt>
<dd><p>Function to test if a path is absent from a list of paths.</p>
<p>Opposite of <a class="reference internal" href="#friendly_data.io.path_in" title="friendly_data.io.path_in"><code class="xref py py-func docutils literal notranslate"><span class="pre">path_in()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpaths</strong><span class="classifier">Iterable[Union[str, Path]]</span></dt><dd><p>List of paths to check</p>
</dd>
<dt><strong>testfile</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Test file (must exist on disk)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>bool</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.io.posixpathstr">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">posixpathstr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#posixpathstr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.posixpathstr" title="Permalink to this definition"></a></dt>
<dd><p>Given a path object, return a POSIX compatible path string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>fpath</strong><span class="classifier">Unioin[str, Path]</span></dt><dd><p>Path object</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>str</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.io.relpaths">
<span class="sig-prename descclassname"><span class="pre">friendly_data.io.</span></span><span class="sig-name descname"><span class="pre">relpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">basepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/friendly_data/io.html#relpaths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.io.relpaths" title="Permalink to this definition"></a></dt>
<dd><p>Convert a list of paths to relative paths</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>basepath</strong><span class="classifier">Union[str, Path]</span></dt><dd><p>Path to use as the reference when calculating relative paths</p>
</dd>
<dt><strong>pattern</strong><span class="classifier">Union[str, Iterable[Union[str, Path]]]</span></dt><dd><p>Either a pattern relative to <code class="docutils literal notranslate"><span class="pre">basepath</span></code> to generate a list of paths,
or a list of paths to convert.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>List[str]</dt><dd><p>List of relative paths (as <code class="docutils literal notranslate"><span class="pre">str</span></code>-s)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-friendly_data.helpers">
<span id="helper-utilities"></span><h2>Helper utilities<a class="headerlink" href="#module-friendly_data.helpers" title="Permalink to this heading"></a></h2>
<p>Collection of helper functions</p>
<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.filter_dict">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">filter_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span></span></span><a class="reference internal" href="../_modules/friendly_data/helpers.html#filter_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.filter_dict" title="Permalink to this definition"></a></dt>
<dd><p>Filter a dictionary based on a set of allowed keys</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.flatten_list">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">flatten_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterable</span></span></span><a class="reference internal" href="../_modules/friendly_data/helpers.html#flatten_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.flatten_list" title="Permalink to this definition"></a></dt>
<dd><p>Flatten an arbitrarily nested list (returns a generator)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.idx_lvl_values">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">idx_lvl_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pandas.MultiIndex</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">pandas.Index</span></span></span><a class="reference internal" href="../_modules/friendly_data/helpers.html#idx_lvl_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.idx_lvl_values" title="Permalink to this definition"></a></dt>
<dd><p>Given a <code class="docutils literal notranslate"><span class="pre">pandas.MultiIndex</span></code> and a level name, find the level values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>idx</strong><span class="classifier">pandas.MultiIndex</span></dt><dd><p>A multi index</p>
</dd>
<dt><strong>name</strong><span class="classifier">str</span></dt><dd><p>Level name</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pandas.Index</dt><dd><p>Index with the level values</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.idxslice">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">idxslice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lvls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selection</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span></span></span><a class="reference internal" href="../_modules/friendly_data/helpers.html#idxslice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.idxslice" title="Permalink to this definition"></a></dt>
<dd><p>Create an index slice tuple from a set of level names, and selection mapping</p>
<p>NOTE: The order of <code class="docutils literal notranslate"><span class="pre">lvls</span></code> should match the order of the levels in the
index exactly; typically, <code class="docutils literal notranslate"><span class="pre">mydf.index.names</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>lvls</strong><span class="classifier">Iterable[str]</span></dt><dd><p>Complete set of levels in the index</p>
</dd>
<dt><strong>selection</strong><span class="classifier">Dict[str, List]</span></dt><dd><p>Selection set; the key is a level name, and the value is a list of
values to select</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>Tuple</dt><dd><p>Tuple of values, with <code class="docutils literal notranslate"><span class="pre">slice(None)</span></code> for skipped levels (matches anything)</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.import_from">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">import_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/helpers.html#import_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.import_from" title="Permalink to this definition"></a></dt>
<dd><p>Import <code class="docutils literal notranslate"><span class="pre">name</span></code> from <code class="docutils literal notranslate"><span class="pre">module</span></code>, if <code class="docutils literal notranslate"><span class="pre">name</span></code> is empty, return module</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.is_windows">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">is_windows</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/friendly_data/helpers.html#is_windows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.is_windows" title="Permalink to this definition"></a></dt>
<dd><p>Check if we are on Windows</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.match">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/helpers.html#match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.match" title="Permalink to this definition"></a></dt>
<dd><p>Wrap <code class="docutils literal notranslate"><span class="pre">glom.Match</span></code> with the default action set to <code class="docutils literal notranslate"><span class="pre">glom.SKIP</span></code>.</p>
<p>This is very useful to match items inside nested data structures.  A few
example uses:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">glom</span> <span class="kn">import</span> <span class="n">glom</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;abc&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;constraints&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;def&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glom</span><span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="p">[</span><span class="n">match</span><span class="p">({</span><span class="s2">&quot;constraints&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;enum&quot;</span><span class="p">:</span> <span class="nb">list</span><span class="p">},</span> <span class="nb">str</span><span class="p">:</span> <span class="nb">str</span><span class="p">})])</span>
<span class="go">[{&quot;name&quot;: &quot;abc&quot;, &quot;type&quot;: &quot;integer&quot;, &quot;constraints&quot;: {&quot;enum&quot;: []}}]</span>
</pre></div>
</div>
<p>For details see: <a class="reference external" href="https://glom.readthedocs.io/en/latest/matching.html#validation-with-match">glom.Match</a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="friendly_data.helpers.noop_map">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">noop_map</span></span><a class="reference internal" href="../_modules/friendly_data/helpers.html#noop_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.noop_map" title="Permalink to this definition"></a></dt>
<dd><p>A noop mapping class</p>
<p>A dictionary subclass that falls back to noop on <code class="docutils literal notranslate"><span class="pre">KeyError</span></code> and returns
the key being looked up.</p>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">copy</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">fromkeys</span></code>(iterable[, value])</p></td>
<td><p>Create a new dictionary with keys from iterable and values set to value.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">get</span></code>(key[, default])</p></td>
<td><p>Return the value for key if key is in the dictionary, else default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">items</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">keys</span></code>()</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code>(key[, default])</p></td>
<td><p>If key is not found, default is returned if given, otherwise KeyError is raised</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">popitem</span></code>(/)</p></td>
<td><p>Remove and return a (key, value) pair as a 2-tuple.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">setdefault</span></code>(key[, default])</p></td>
<td><p>Insert key with a value of default if key is not in the dictionary.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>([E, ]**F)</p></td>
<td><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k] If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v In either case, this is followed by: for k in F:  D[k] = F[k]</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>()</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.sanitise">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">sanitise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/friendly_data/helpers.html#sanitise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.sanitise" title="Permalink to this definition"></a></dt>
<dd><p>Sanitise string for use as group/directory name</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="friendly_data.helpers.select">
<span class="sig-prename descclassname"><span class="pre">friendly_data.helpers.</span></span><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/friendly_data/helpers.html#select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#friendly_data.helpers.select" title="Permalink to this definition"></a></dt>
<dd><p>Wrap <code class="docutils literal notranslate"><span class="pre">glom.Check</span></code> with the default action set to <code class="docutils literal notranslate"><span class="pre">glom.SKIP</span></code>.</p>
<p>This is very useful to select items inside nested data structures.  A few
example uses:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">glom</span> <span class="kn">import</span> <span class="n">glom</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;abc&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;integer&quot;</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;def&quot;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">glom</span><span class="p">(</span><span class="n">cols</span><span class="p">,</span> <span class="p">[</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="n">equal_to</span><span class="o">=</span><span class="s2">&quot;abc&quot;</span><span class="p">)])</span>
<span class="go">[{&quot;name&quot;: &quot;abc&quot;, &quot;type&quot;: &quot;integer&quot;}]</span>
</pre></div>
</div>
<p>For details see: <a class="reference external" href="https://glom.readthedocs.io/en/latest/matching.html#validation-with-check">glom.Check</a></p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../advanced.html" class="btn btn-neutral float-left" title="Advanced use" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="external.html" class="btn btn-neutral float-right" title="Package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Suvayu Ali and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>